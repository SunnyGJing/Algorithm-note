#include <cstdio>
struct Person {
	char name[10];
	int year, month, day;
}temp, maxn, minn;    //存数据， 年龄最大， 年龄最小 
const int today = 20140906; 
const int ago = 18140906;
int main(){
	int n, time, count=0, remotest = today+1, nearest = ago-1;
	scanf("%d",&n);
	for(int i=0; i<n; i++){
		scanf("%s %d/%d/%d",&temp.name,&temp.year,&temp.month,&temp.day);
		getchar(); // 吃掉空格  
		time = temp.year*10000+temp.month*100+temp.day;// 出生时间表示成数字，便于比较 
		if(time<=today&&time>=ago){ //出生时间不符合条件的，忽略不操作 
			count++;
			if(nearest<time){
				nearest = time;
				minn= temp; // 找年龄最小的 
			} else if(remotest>time){
				remotest = time;
				maxn = temp; // 找年龄最大的 
			}
		}
	}
	if(count!=0){
	printf("%d %s %s",count,maxn.name,minn.name);	
	} else printf("0"); // 考虑特殊情况（满足条件的出生时间数为0） 
	return 0;
} 
